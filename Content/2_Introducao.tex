\chapter{Introdução}
\label{Introducao}
%Android
\par Os dispositivos móveis vem ganhando cada vez mais espaço no cotidiano das pessoas por trazer funcionalidades diversas em um dispositivo cada vez mais barato e portátil. Seja para fazer uma simples operação matemática, ou para navegar na \textit{web}, tirar fotos, telefonar, etc., os \textit{smartphones} e \textit{tablets}  tem evoluído cada vez mais tanto em questões de \textit{hardware} quanto em \textit{software}.

\par Em se tratando de \textit{hardware}, os dispositivos móveis hoje carregam um grande poder computacional. Segundo uma matéria do Olhar Digital~\cite{OlharDigital_PC_antigo}, o \textit{desktop} top de linha em 2001 possuía 80 GB de HD, 128 MB de memória primária e um processador \textit{single core} de 1,53 GHz. Hoje, um \textit{smartphone} top de linha possui 8 núcleos de processamento, com frequências de até 2,8 GHz, memória primária de 4 GB e armazenamento interno de 256 GB (com possibilidade de expansão)~\cite{Tecmundo_S9}, tudo isso em um \textit{design} compacto que cabe no bolso. Graças à essa evolução, é possível realizar tarefas cada vez mais complexas em um dispositivo móvel. 

\par Quanto a \textit{software}, hoje existe uma maior padronização dos sistemas \textit{mobile}, o que facilita o desenvolvimento de aplicações. O sistema operacional para dispositivos móveis líder de mercado é o Android~\cite{Lecheta}. Tendo sua primeira versão lançada em 2008, diversos foram os motivos pela sua grande popularidade, tais como o fato de ser gratuito, \textit{open-source} (sob a licença \textit{Apache 2.0}, principalmente~\cite{Android_licenca}), o desenvolvimento em conjunto com as empresas interessadas (\textit{Open Handset Alliance} - OHA) e o uso do Java para a criação de aplicativos, uma vez que essa é a linguagem de programação mais utilizada mundialmente~\cite{Deitel}, além de entregar ao usuário um sistema moderno, elegante e cheio de recursos.

\par Devido a constante presença dos dispositivos móveis (com sistema Android) e sua crescente capacidade de \textit{hardware}, esta plataforma tem sido cada vez mais explorada por desenvolvedores. Uma prova disso é a loja oficial de aplicativos do Android (\href{https://play.google.com/}{\textit{Google Play Store}}), que oferece uma infinidade de aplicativos, de calculadoras a jogos com gráficos realistas, muitos deles disponibilizados gratuitamente. É por este motivo também que esta plataforma foi escolhida para a realização deste trabalho, que visa desenvolver um simulador das funcionalidades de um Arduino UNO.

\par A utilização do poder computacional de  \textit{smartphones} / \textit{tablets} em substituição à sistemas tradicionais não é uma ideia nova. 
Pode-se citar trabalhos como o de Junior~\cite{Junior}, que utilizou um dispositivo Android para a implementação de um osciloscópio de baixo custo. Utilizando um microcontrolador ARM Cortex M4F para aquisição dos sinais e comunicação \textit{Bluetooth} com o \textit{smartphone}, foi possível construir um osciloscópio com um custo de projeto de US\$35, com erro médio de 0,2\% no eixo do tempo, 0,02V no eixo da tensão e taxa máxima de aquisição de 150 mil amostras por segundos, o que, segundo o autor, torna este um sistema "aceitável para o uso do projeto no ambiente de aprendizado", considerando a diferença de preço com osciloscópios comerciais.

\par Em uma abordagem semelhante, Eberendu et al.~\cite{Nwokorie} utiliza um \textit{smartphone}, junto à uma placa de Arduino UNO, para a criação de um microscópio. O chamado \textit{SmartScope} utiliza uma estrutura de suporte com uma lente plano-convexa para adaptar a câmera do \textit{smartphone} a captura de imagens microscópicas. A placa de Arduino controla o LED (\textit{Light Emitting Diode}) que serve como fonte de luz e permite o ajuste de intensidade do brilho por meio de botões, mostrando em um \textit{display} LCD (\textit{Liquid Crystal Display}) a configuração atual. O sistema tem funções de captura de imagem e vídeo e permite o armazenamento dos dados coletados em um banco de dados (\textit{Microsoft Access}). Assim como o trabalho de Junior, o grande objetivo é criar um sistema de baixo custo como alternativa aos microscópios comerciais e ajudar alunos sem experiência a aprender a realizar leituras no equipamento.

\par Também é possível citar o trabalho de Teng et al.~\cite{Lin} que vai além do nível de aplicativo, fazendo modificações no \textit{kernel} Linux para leitura de dados em um barramento CAN (\textit{Controller Area Network}). Teng e sua equipe desenvolveram \textit{drivers} e bibliotecas para realizar a leitura de dados de sensores em um automóvel por meio do barramento CAN. Dados relativos à velocidade, faróis, temperatura, chaves e alarme foram lidos diretamente das unidades de controle do veículo e mostrados na tela do \textit{smartphone} em um aplicativo de instrumentação próprio, simulando o painel do carro. Seu trabalho evidencia que as possibilidades de uso dos sistemas Android podem se estender também para o nível de sistema.

\par Com uma pesquisa na \textit{Google Play Store}, é possível encontrar diversos aplicativos relacionados com Arduino. Muitos deles se encontram na forma de "aplicativo-tutorial", mostrando exemplos de código e diagramas para o ensino da plataforma, mas também é possível encontrar IDEs (\textit{Integrated Development Environment}) com capacidade de gravação das placas físicas, geradores de código automático, módulos para serem utilizados em projetos de automação (como controles \textit{wireless} que se integram às \textit{shields} do Arduino), etc.

\par Na parte de simuladores, vários foram os aplicativos de simulação/emulação de processadores e microcontroladores encontrados. Um destaque fica para o aplicativo \textit{AndMCU}\footnote{\url{https://play.google.com/store/apps/details?id=com.hkonstas.andmcu&hl=en_US}}(também conhecido como \textit{MCU Prototype Board Simulator}), que simula um \textit{kit} de desenvolvimento (com botões, LEDs, LCD, etc.) e permite a execução de códigos \textit{assembly} de um \textit{subset} das instruções do microcontrolador 68705 da Motorola. 

\par Quanto à simulação de placas de Arduino, pode-se citar o \textit{BoardMicro - AVR Simulator}\footnote{\url{https://www.amazon.com/Starlo-BoardMicro-AVR-Simulator/dp/B00LKX3VZC}}, que destina-se à simulação do microcontrolador ATMega32U4 a partir de um arquivo hexadecimal fornecido pelo o usuário, e se baseia no Arduino Esplora. Também, o \textit{CircSim Circuit Simulator}\footnote{\url{https://play.google.com/store/apps/details?id=org.qtproject.CircSim&hl=pt_BR}} se propõe a fazer simulação de, entre outras coisas, placas de Arduino, no entanto, seu uso é praticamente impossibilitado dado que sua interface não se ajusta adequadamente em dispositivos móveis (fato que pode ser comprovado pelos comentários dos usuários na página do aplicativo).

\par Fora da loja oficial, foi encontrado ainda o \textit{Arduino Simulator Mini Free}\footnote{\url{https://www.amazon.com.br/Schogini-Systems-Arduino-Simulator-Mini/dp/B00LIUIX6Y}}, que é destinado à simulação do Arduino Diecimila, no entanto possui limitações por permitir a simulação apenas dos programas que vem junto com o aplicativo.

\par Sendo assim, o presente trabalho surge também para complementar esta área de aplicativos destinadas à simulação, oferecendo mais uma possibilidade para explorar o Arduino, seja por estudantes, hobistas ou qualquer pessoa que se interesse pelo assunto.

%Introdução do trabalho.
% 
%Na redação da monografia, que é parte importantíssima do projeto, pois é aquela que ficará pública, precisamos definir muito bem o título, construir um Resumo com todas as partes de um Resumo, esclarecer o(s) objetivo(s) e construir uma conclusão completa, tudo isso quase que ao mesmo tempo, pois o trabalho já terminou.
%A Introdução deve conter um histórico (com muitas referências atuais-procure nas bases consagradas, como por exemplo IEEE, para apresentar não só referências voláteis-aquelas da Internet) do assunto apontando a origem e os avanços que estão publicados, ressaltando o "foco" de ataque do projeto.
%Depois, compor um bom Embasamento Teórico citando as referências de onde está o assunto todo de cada tópico (sem se confundir com a apresentação dos materiais usados no projeto), pois é o lugar onde estarão presentes as partes da ciência ou as técnicas de forma geral que foram utilizadas para construir a solução (exemplo: Sistemas Embarcados é um tópico e não Raspberry Pi, Linux Embarcado é um tópico e não a distribuição escolhida, porém Linux é um subtópico de Sistemas Operacionais). Depois mostrar Material e Métodos, ou Desenvolvimento do Projeto, mostrando logo na entrada do capítulo uma figura ou diagrama que apresente de forma geral como as partes estão relacionadas/conectadas. Mostrar os algoritmos da solução em forma de fluxogramas ou usando UML, de maneira clara e completa. Se for necessário apresentar trechos de código para ressaltar soluções ou apresentar abordagens, também que seja de forma direta e simplificada. Códigos completos deverão estar nos Apêndices para a Monografia final, depois da defesa.  
%Assim, consegue-se mostrar o quanto você evoluiu com os aprendizados do curso e com aqueles que você buscou a mais, e o quanto tem de solução legal e atual na sua proposta. 
%Valorize as conquistas alcançadas apresentando e discutindo os resultados com gráficos, tabelas, figuras, etc.
%Nas Conclusões, também não esqueça de apontar as deficiências ou limitações que são inerentes ao trabalho e que no momento não estão no(s) objetivo(s), e também as deficiências ou limitações dos procedimentos que vc incorporou ao seu trabalho de outros autores.
%Indique as direções para os trabalhos futuros, pois o autor conhece como ninguém as oportunidades de continuidade e avanços do trabalho.
%
%Exemplo de citação de Referência \cite{referencia1}. Outra referência para a bibliografia \cite{referencia2}.
%
%Segundo \cite{referencia3} há uma sequência lógica para a redação da monografia como apresenta em \cite{enzo}.
%
%Referência para a figura \ref{logo}.
%
% \begin{figure}[H]
% 	\centering
% 	\includegraphics[scale=0.35]{./Resources/proj_sistemas_embarcados.jpg}
% 	\caption{Logo da Disciplina.}
% 	\label{logo}
% \end{figure}



% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Motivação}
%Arduino
\par O Arduino é uma plataforma de \textit{hardware} e \textit{software} abertos, destinada ao desenvolvimentos de projetos na área de eletrônica. Suas aplicações vem crescendo a cada dia e vão desde o uso educacional para ensino de robótica em escolas de ensino fundamental, até aplicações em IoT (\textit{Internet of Things}) nas universidades. 
\par Uma das principais características do Arduino é sua simplicidade. Em suas versões mais básicas, utilizam microcontroladores de 8-bits, o que torna o sistema menos complexo e mais barato quando comparada com outras plataformas concorrentes (tais como \textit{Raspberry Pi} e \textit{BeagleBone})~\cite{Delft}. Com isso, se tornou uma plataforma ideal para prototipagem e para aprendizado, englobando um público-alvo de artistas, sem conhecimento prévio de eletrônica e programação, à engenheiros experientes, que usam a plataforma para prototipagem.

\par O desenvolvimento para essa plataforma demanda o uso de placas físicas de Arduino. Essas placas foram desenvolvidas com o objetivo de apresentarem baixo custo e facilitar a prototipagem, se integrando facilmente à módulos externos
(\textit{shields}) que adicionam ao sistema funções de interface, sensoriamento,
etc. A desvantagem de se utilizar placas eletrônicas é, além do custo para adquiri-las, a necessidade de outros componentes externos, como LEDs, \textit{protoboards}, multímetros, etc.

\par Uma opção às placas de Arduino são os simuladores.  Para
um usuário iniciante, o simulador representa a possibilidade de iniciar seus
estudos sem a necessidade de gastos com equipamentos eletrônicos e sem
o risco de perder estes equipamentos por uso indevido. Para usuários experientes,
um simulador permite explorar diferentes ambientes/situações de
funcionamento, além de outros benefícios como o monitoramento interno do
sistema, vasta gama de equipamentos eletrônicos virtuais, equipamentos de
medição (voltímetro, osciloscópio, etc.), entre outros.

\par Diversas são as opções de simuladores existentes, cada qual com características
próprias. Alguns que merecem destaque são: 
\begin{itemize}
	\item \textbf{Proteus}: Possui recursos para montagem e simulação de circuitos eletrônicos analógicos e digitais, bem como desenvolvimento de \textit{layouts} PCB (\textit{Printed Circuit Board}). Tem como desvantagem o fato de ser um \textit{software} comercial, com a versão básica para simulação Arduino custando US\$248,00~\cite{Proteus}
	\item \textbf{Virtual Breadboard}: Permite a simulação de circuitos eletrônicos digitais em um ambiente virtual, bem como a programação de microcontroladores dentro do próprio sistema. Possui uma versão gratuita, no entanto, para simulação de Arduino é preciso comprar um módulo separadamente pelo valor de US\$49,00~\cite{VBB}.
	\item \textbf{Simuino}: Simulador de Arduino UNO e MEGA para terminal. Apesar de gratuito e \textit{Open-Source}, possui apenas versões para Linux e é distribuído apenas em formato de código-fonte, sendo necessário fazer a compilação antes de usá-lo~\cite{Simuino}.
	\item \textbf{CodeBlocks}: Possui uma versão com ferramentas próprias para escrever e simular códigos Arduino, permitindo também o \textit{upload} de código para placas físicas, com suporte a diversos modelos de \textit{hardware}. A desvantagem fica por conta de não possuir uma interface gráfica para simulação, que ocorre toda em terminal apenas com textos indicando os estados de entradas e saídas~\cite{CodeBlocks}. 
	\item \textbf{Autodesk Tinkercad}: É um ambiente de aprendizado \textit{on-line} gratuito que permite tanto a criação de projetos eletrônicos quanto de desenhos 3D. Possui um ambiente para codificação e depuração do código na própria ferramenta. A única desvantagem encontrada é o fato de funcionar apenas \textit{on-line}, sendo necessário fazer um cadastro para utilizá-la~\cite{Tinkercad}.
	
	\item \textbf{UnoArduSim}: Desenvolvido pelo Professor Stan Simmons, da Universidade Queen's, no Canadá, o simulador conta com uma IDE integrada para codificação e um laboratório virtual com diversos equipamentos, tais como motores, geradores de sinal, LEDs, etc. É uma ferramenta gratuita com suporte apenas ao Arduino UNO~\cite{UnoArduSim}.
\end{itemize}

\par É interessante destacar que o projeto aqui proposto é, em essência, um simulador do ATmega328P em nível de arquitetura, com o Arduino sendo utilizado como uma interface ao dispositivo. Isso significa que o usuário terá a possibilidade de estudar o processador em um nível mais baixo e não apenas utilizar funções em alto nível do Arduino (como é o caso de alguns simuladores), o que não é nenhuma imposição ou limitação do projeto, já que estas questões podem ser abstraídas caso o usuário não tenha interesse neste nível de detalhe.

\par Apesar da grande quantidade de simuladores já existentes, como foi mostrado anteriormente, há ainda uma
falta deste tipo de \textit{software} para dispositivos móveis. A grande motivação deste trabalho é poder contribuir com a comunidade que deseje aprender sobre desenvolvimento para Arduino, fornecendo uma opção de simulador para Android.

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Objetivo}

\par O objetivo principal do projeto é o desenvolvimento de um aplicativo Android que possibilite a execução de programas desenvolvidos
para a plataforma Arduino UNO,
permitindo assim a realização de testes sem a necessidade de uma placa de
física ou qualquer outro componente eletrônico externo.
\par Também faz parte dos objetivos do trabalho a integração do simulador com a IDE oficial do projeto Arduino, permitindo a transferência dos códigos compilados para o simulador de maneira automática.


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section {Justificativa}

\par Este trabalho se justifica por atuar de forma a criar uma ferramenta \textit{Open-Source} que beneficiará todos aqueles que desejam aprender/praticar o desenvolvimento para Arduino.


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section {Organização do Trabalho}

Este trabalho está distribuído em 5 capítulos, incluindo esta introdução, dispostos conforme a descrição que segue:

Capítulo 2: Apresenta um embasamento teórico, explicando o funcionamento dos módulos do microcontrolador ATmega328P implementados do simulador, bem como informações a respeito de processo e teste de \textit{software} que se aplicam ao trabalho. 

Capítulo 3: Descreve o processo de desenvolvimento do projeto e as principais estratégias de implementação. Além disso, apresenta as ferramentas utilizadas durante o desenvolvimento.

Capítulo 4: Discorre sobre os resultados obtidos, apresentando o sistema, algumas métricas de \textit{software} e comparações feitas com outros aplicativos semelhantes. Também é feita uma discussão a respeito destes resultados.

Capítulo 5: Conclui a respeito do trabalho desenvolvido até o momento e apresenta algumas perspectivas para a continuação do projeto.